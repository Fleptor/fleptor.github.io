<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="/assets/files/title-image.png">
    <link rel="stylesheet" href="/css/main_css/fp_stylesheet.css">
    <script src="https://kit.fontawesome.com/d1fd6c7b6f.js" crossorigin="anonymous"></script>
    <title>fp - Flepsite</title>
</head>
<body>
<div class="content-wrapper">
    <nav class="mainNav">
        <a href="/en/index.html">Home</a>
        <a href="/en/about.html">About</a>
        <a href="/en/blog/">Blog</a>
        <a class="selected" href="/en/fp/">fp</a>
    </nav>
    <div class="heading">
        <h1 class="mainHeading">FLEPNESS</h1>
        <h1 class="secondHeading">PORTAL</h1>
    </div>
    <h2 class="subtitle">The portal of all works Fleptor.</h2>
    <div class="box">
        <a target="_blank" href="https://github.com/Fleptor/fleptor.github.io"><img src="/assets/files/flepsite-logo.png" alt="Flepsite's logo."></a>
        <a href="/en/fp/flepness-paradise.html"><img src="/assets/files/flepness-paradise-logo.jpg" alt="Flepness Paradise's logo."></a>
	<a href="/en/fp/flepness-broadcast/"><img src="/assets/files/flepness-broadcast-logo.png" alt="Flepness Broadcast's logo."></a>
	<a target="_blank" href="https://github.com/Fleptor/Fleppy-Rice"><img src="/assets/files/fleppy-rice-logo.png" alt="Flepness Broadcast's logo."></a>
        <a href="/en/fp/miscellaneous.html"><img src="/assets/files/misc-logo.png" alt="Miscellaneous page logo."></a>
    </div>
</div>

<div id="footer"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const lang = document.documentElement.lang || "en";

    fetch('/components/footer.html')
      .then(res => res.ok ? res.text() : Promise.reject("Failed to load footer"))
      .then(html => {
        document.getElementById('footer').innerHTML = html;

        document.querySelectorAll('.footer-lang').forEach(div => {
          div.style.display = div.dataset.lang === lang ? 'flex' : 'none';
        });

        const year = new Date().getFullYear();
        const visibleFooter = document.querySelector(`.footer-lang[data-lang="${lang}"]`);
        const yearSpan = visibleFooter.querySelector(".footer-year");
        if (yearSpan) yearSpan.textContent = year;

        const currentPath = window.location.pathname;
        let targetPath;

        if (lang === 'ar') {
          targetPath = '/en' + currentPath;
        } else if (lang === 'en') {
          targetPath = currentPath.replace(/^\/en/, '') || '/';
        }

        const langSwitchAnchor = visibleFooter.querySelector('.fa-language')?.closest('a');
        if (langSwitchAnchor && targetPath) {
          langSwitchAnchor.setAttribute('href', targetPath);
        }
      })
      .catch(err => console.error("Footer injection error:", err));
  });
</script>
</body>
</html>
